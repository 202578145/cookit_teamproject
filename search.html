<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookit - ê²€ìƒ‰ ê²°ê³¼</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼ (ìŠ¤ì¼€ì¹˜ ë°˜ì˜) */
        .search-header { text-align: center; margin: 40px 0; }
        .result-count { color: #FF6B35; font-weight: bold; }
        
        /* ê°€ë¡œí˜• ì¹´ë“œ ë””ìì¸ */
        .result-card {
            display: flex; /* ê°€ë¡œ ë°°ì¹˜ */
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 20px; /* ì¹´ë“œ ì‚¬ì´ ê°„ê²© */
            overflow: hidden;
            transition: transform 0.2s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }
        .result-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        
        .result-img {
            width: 150px; /* ì‚¬ì§„ í¬ê¸° ê³ ì • */
            height: 150px;
            object-fit: cover;
        }
        
        .result-info {
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .result-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 5px; color: #333; }
        .result-subtitle { font-size: 0.9rem; color: #666; }
        .no-result { text-align: center; padding: 50px; color: #999; font-size: 1.2rem; }

        @media (max-width: 600px) {
            .result-card { flex-direction: row; } /* ëª¨ë°”ì¼ì—ì„œë„ ê°€ë¡œ ìœ ì§€ */
            .result-img { width: 100px; height: 100px; }
            .result-info { padding: 15px; }
            .result-title { font-size: 1rem; }
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" style="text-decoration: none;">
            <h1 class="logo">Cookit</h1>
        </a>
    </header>

    <main class="container">
        <div class="search-header">
            <h2>'<span id="search-keyword"></span>' ê²€ìƒ‰ ê²°ê³¼</h2>
            <p><span id="result-count" class="result-count">0</span>ê°œì˜ ë ˆì‹œí”¼ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.</p>
        </div>

        <div id="result-container"></div>
    </main>

    <footer>
        <p>Â© 2023 Cookit. For University Project.</p>
    </footer>

    <script>
        // 1. ìš”ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ (ìš°ë¦¬ê°€ ë§Œë“  íŒŒì¼ ì •ë³´ë“¤)
        // keywordsì— ì¬ë£Œ ì´ë¦„ì„ ì˜ì–´ì™€ í•œê¸€ë¡œ ì ì–´ë‘ë©´ ê²€ìƒ‰ë©ë‹ˆë‹¤.
        const recipes = [
            {
                name: "Kimchi Stew",
                sub: "í•œêµ­ì¸ì˜ ì†Œìš¸í‘¸ë“œ ê¹€ì¹˜ì°Œê°œ",
                img: "kimchi.jpg",
                link: "kimchi.html",
                keywords: ["kimchi", "pork", "stew", "ê¹€ì¹˜", "ë¼ì§€ê³ ê¸°", "ì°Œê°œ"]
            },
            {
                name: "Cream Pasta",
                sub: "ê¾¸ë•í•˜ê³  ê³ ì†Œí•œ í¬ë¦¼ íŒŒìŠ¤íƒ€",
                img: "pasta.jpg",
                link: "pasta.html",
                keywords: ["pasta", "cream", "milk", "bacon", "íŒŒìŠ¤íƒ€", "í¬ë¦¼", "ìš°ìœ ", "ë² ì´ì»¨"]
            },
            {
                name: "Beef Steak",
                sub: "ìœ¡ì¦™ ê°€ë“ ë“±ì‹¬ ìŠ¤í…Œì´í¬",
                img: "steak.jpg",
                link: "steak.html",
                keywords: ["steak", "beef", "meat", "ìŠ¤í…Œì´í¬", "ì†Œê³ ê¸°", "ê³ ê¸°"]
            },
            {
                name: "Avocado Toast",
                sub: "í™ˆì¹´í˜ ê°ì„± ì•„ë³´ì¹´ë„ í† ìŠ¤íŠ¸",
                img: "toast.jpg",
                link: "toast.html",
                keywords: ["toast", "bread", "avocado", "egg", "í† ìŠ¤íŠ¸", "ë¹µ", "ì•„ë³´ì¹´ë„", "ê³„ë€"]
            },
            {
                name: "Salmon Salad",
                sub: "ì‹ ì„ í•œ í›ˆì œ ì—°ì–´ ìƒëŸ¬ë“œ",
                img: "salmon.jpg",
                link: "salmon.html",
                keywords: ["salmon", "salad", "vegetable", "onion", "ì—°ì–´", "ìƒëŸ¬ë“œ", "ì–‘íŒŒ"]
            },
            {
                name: "Bibimbap",
                sub: "ê±´ê°•í•œ í•œ ê·¸ë¦‡ ë¹„ë¹”ë°¥",
                img: "bibimbap.jpg",
                link: "bibimbap.html",
                keywords: ["rice", "vegetable", "egg", "spicy", "ë¹„ë¹”ë°¥", "ê³„ë€", "ë°¥"]
            },
            {
                name: "Chicken Curry",
                sub: "ë°¥ë„ë‘‘ ì¹˜í‚¨ ì¹´ë ˆ",
                img: "curry.jpg",
                link: "curry.html",
                keywords: ["curry", "chicken", "potato", "onion", "ì¹´ë ˆ", "ë‹­ê³ ê¸°", "ì–‘íŒŒ"]
            },
            {
                name: "Egg Fried Rice",
                sub: "ì´ˆê°„ë‹¨ ê³„ë€ ë³¶ìŒë°¥",
                img: "friedrice.jpg",
                link: "friedrice.html",
                keywords: ["egg", "rice", "green onion", "fried", "ê³„ë€", "ë°¥", "ë³¶ìŒë°¥"]
            },
            {
                name: "Fruit Sherbet",
                sub: "ì‹œì›í•œ ê³¼ì¼ ìƒ¤ë² íŠ¸",
                img: "sherbet.html",
                link: "sherbet.html",
                keywords: ["fruit", "ice", "dessert", "strawberry", "ê³¼ì¼", "ìƒ¤ë² íŠ¸", "ë”¸ê¸°"]
            }
        ];

        // 2. ê²€ìƒ‰ì–´ ê°€ì ¸ì˜¤ê¸° ë° ì‹¤í–‰ ë¡œì§
        window.onload = function() {
            // ì£¼ì†Œì°½ì—ì„œ ?q=egg ê°™ì€ ê²€ìƒ‰ì–´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
            const urlParams = new URLSearchParams(window.location.search);
            const query = urlParams.get('q'); // 'egg'

            if (query) {
                const searchWord = query.toLowerCase(); // ì†Œë¬¸ìë¡œ ë³€í™˜ (Egg -> egg)
                document.getElementById('search-keyword').innerText = query;

                // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê²€ìƒ‰ì–´ê°€ í¬í•¨ëœ ìš”ë¦¬ë§Œ ì°¾ìŠµë‹ˆë‹¤.
                const filtered = recipes.filter(item => {
                    // ì´ë¦„ì´ë‚˜ í‚¤ì›Œë“œ(ì¬ë£Œ) ì¤‘ì— ê²€ìƒ‰ì–´ê°€ ìˆëŠ”ì§€ í™•ì¸
                    return item.name.toLowerCase().includes(searchWord) || 
                           item.keywords.some(k => k.toLowerCase().includes(searchWord));
                });

                // ê²°ê³¼ ê°œìˆ˜ í‘œì‹œ
                document.getElementById('result-count').innerText = filtered.length;

                // ê²°ê³¼ í™”ë©´ì— ë¿Œë¦¬ê¸°
                const container = document.getElementById('result-container');
                
                if (filtered.length === 0) {
                    container.innerHTML = '<div class="no-result">í•´ë‹¹í•˜ëŠ” ì¬ë£Œì˜ ìš”ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ğŸ˜¢<br>ë‹¤ë¥¸ ì¬ë£Œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”!</div>';
                } else {
                    filtered.forEach(recipe => {
                        // ìŠ¤ì¼€ì¹˜í•˜ì‹  ëª¨ì–‘ëŒ€ë¡œ HTMLì„ ë§Œë“­ë‹ˆë‹¤.
                        const html = `
                            <a href="${recipe.link}" class="result-card">
                                <img src="${recipe.img}" class="result-img" alt="${recipe.name}">
                                <div class="result-info">
                                    <div class="result-title">${recipe.name}</div>
                                    <div class="result-subtitle">${recipe.sub}</div>
                                </div>
                            </a>
                        `;
                        container.innerHTML += html;
                    });
                }
            } else {
                document.getElementById('search-keyword').innerText = "ì—†ìŒ";
                document.getElementById('result-container').innerHTML = '<div class="no-result">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
            }
        };
    </script>

</body>
</html>