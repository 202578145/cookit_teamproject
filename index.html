<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookit - ì˜¤ëŠ˜ì˜ ìš”ë¦¬ë¥¼ ì°¾ì•„ë³´ì„¸ìš”</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .view-more-link {
            display: flex; align-items: center; justify-content: center;
            width: 40px; height: 40px;
            border: 2px solid #FF6B35; border-radius: 50%;
            color: #FF6B35; font-weight: bold; font-size: 1.2rem;
            text-decoration: none; transition: 0.3s;
        }
        .view-more-link:hover { background: #FF6B35; color: white; }
    </style>
</head>
<body>

    <header>
        <h1 class="logo">Cookit</h1>
    </header>

    <main>
        <section class="hero">
            <div class="search-container">
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="What's in your fridge? (ex. egg, onion)">
                    <button class="find-btn" onclick="goSearch()">Find Recipes</button>
                </div>
                <div class="tags">
                    <a href="https://github.com/202578145/cookit_teamproject" target="_blank" style="text-decoration: none; color: inherit;">
                        <span>ğŸ™ GitHub</span>
                    </a>

                    <span onclick="toggleSound()" style="cursor: pointer;">
                        <span id="sound-icon">ğŸ”‡</span> <span id="sound-text">BGM Off</span>
                    </span>

                    <span onclick="toggleRain()" style="cursor: pointer;">
                        <span id="rain-icon">ğŸŒ§ï¸</span> <span id="rain-text">Food Rain</span>
                    </span>
                </div>

                <audio id="bgmAudio" loop>
                    <source src="bgm.mp3" type="audio/mp3">
                </audio>
            </div>
        </section>

        <section class="container todays-pick">
            <h2>Today's Pick</h2>
            <a id="today-link" href="kimchi.html" style="text-decoration: none; color: inherit;">
                <div class="pick-card">
                    <img id="today-img" src="kimchi.jpg" style="width:100%; height:300px; object-fit:cover; border-radius: 15px 15px 0 0;">
                    <div class="card-content">
                        <h3 id="today-title">Spicy Kimchi Stew</h3>
                        <p>ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë©”ë‰´ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>
                        <button class="refresh-btn" title="ë‹¤ë¥¸ ë©”ë‰´ ë³´ê¸°" onclick="event.preventDefault(); changeMenu();">ğŸ”„</button>
                    </div>
                </div>
            </a>
        </section>

        <section class="container all-recipes">
            <div class="recipe-header-box" style="display:flex; align-items:center; gap:15px; margin-bottom:20px;">
                <h2>All Recipes</h2>
                <a href="all.html" class="view-more-link" title="ì „ì²´ ë³´ê¸°">&gt;</a>
            </div>

            <div class="recipe-grid">
                <a href="friedrice.html" style="text-decoration: none; color: inherit;">
                    <div class="recipe-card">
                        <img src="friedrice.jpg" alt="Egg Fried Rice">
                        <h4>Egg Fried Rice</h4>
                    </div>
                </a>

                <a href="pasta.html" style="text-decoration: none; color: inherit;">
                    <div class="recipe-card">
                        <img src="pasta.jpg" alt="Pasta Carbonara">
                        <h4>Pasta Carbonara</h4>
                    </div>
                </a>

                <a href="kimchi.html" style="text-decoration: none; color: inherit;">
                    <div class="recipe-card">
                        <img src="kimchi.jpg" alt="Kimchi Stew">
                        <h4>Kimchi Stew</h4>
                    </div>
                </a>
            </div>
        </section>
    </main>

    <footer>
        <p>Â© 2023 Cookit. For University Project.</p>
    </footer>

    <script>
        function changeMenu() {
            // â–¼ ìˆ˜ì •ë¨: ëœë¤ ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ì˜ ì´ë¯¸ì§€ ì£¼ì†Œë„ ì „ë¶€ íŒŒì¼ëª…ìœ¼ë¡œ êµì²´!
            const menus = [
                { name: "Spicy Kimchi Stew", img: "kimchi.jpg", link: "kimchi.html" },
                { name: "Cream Pasta", img: "pasta.jpg", link: "pasta.html" },
                { name: "Beef Steak", img: "steak.jpg", link: "steak.html" },
                { name: "Avocado Toast", img: "toast.jpg", link: "toast.html" },
                { name: "Salmon Salad", img: "salmon.jpg", link: "salmon.html" },
                { name: "Bibimbap", img: "bibimbap.jpg", link: "bibimbap.html" },
                { name: "Chicken Curry", img: "curry.jpg", link: "curry.html" },
                { name: "Egg Fried Rice", img: "friedrice.jpg", link: "friedrice.html" },
                { name: "Fruit Sherbet", img: "sherbet.jpg", link: "sherbet.html" }
            ];
            const randomIndex = Math.floor(Math.random() * menus.length);
            const selectedMenu = menus[randomIndex];
            document.getElementById("today-title").innerText = selectedMenu.name;
            document.getElementById("today-img").src = selectedMenu.img;
            document.getElementById("today-link").href = selectedMenu.link;
            alert("ì˜¤ëŠ˜ì˜ ë©”ë‰´ê°€ '" + selectedMenu.name + "'(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!");
        }

        function goSearch() {
            const input = document.getElementById('searchInput').value;
            if (input.trim() === "") {
                alert("ì¬ë£Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }
            window.location.href = "search.html?q=" + encodeURIComponent(input);
        }

        // --- ìŠ¤í”¼ì»¤ ì•„ì´ì½˜ & ìŒì•… í† ê¸€ ê¸°ëŠ¥ ---
        function toggleSound() {
            const audio = document.getElementById('bgmAudio');
            const icon = document.getElementById('sound-icon');
            const text = document.getElementById('sound-text');

            if (audio.paused) {
                audio.play().catch(error => {
                    alert("ìŒì•… íŒŒì¼ì„ ì¬ìƒí•  ìˆ˜ ì—†ì–´ìš”! (bgm.mp3ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”)");
                });
                icon.innerText = "ğŸ”Š";
                text.innerText = "BGM On";
            } else {
                audio.pause();
                icon.innerText = "ğŸ”‡";
                text.innerText = "BGM Off";
            }
        }

        // --- ì¬ë£Œ ë¹„ ë‚´ë¦¬ê¸° íš¨ê³¼ ê¸°ëŠ¥ ---
        let rainInterval; 

        function toggleRain() {
            const icon = document.getElementById('rain-icon');
            const text = document.getElementById('rain-text');
            const container = document.body; 

            if (rainInterval) {
                clearInterval(rainInterval);
                rainInterval = null;
                icon.innerText = "ğŸŒ§ï¸";
                text.innerText = "Food Rain";
                
                const foods = document.querySelectorAll('.food-emoji');
                foods.forEach(e => e.remove());
                
            } else {
                icon.innerText = "â˜€ï¸"; 
                text.innerText = "Stop Rain";

                const foodList = ['ğŸ¥¦', 'ğŸ¥•', 'ğŸ', 'ğŸ¥©', 'ğŸ¤', 'ğŸ³', 'ğŸ§€', 'ğŸ¥“', 'ğŸ§…', 'ğŸ„'];

                rainInterval = setInterval(() => {
                    const el = document.createElement('div');
                    el.classList.add('food-emoji');
                    
                    el.innerText = foodList[Math.floor(Math.random() * foodList.length)];
                    el.style.left = Math.random() * 100 + 'vw';
                    el.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    el.style.fontSize = (Math.random() * 20 + 20) + 'px';

                    container.appendChild(el);

                    setTimeout(() => {
                        el.remove();
                    }, 5000);
                }, 300);
            }
        }
    </script>
</body>
</html>